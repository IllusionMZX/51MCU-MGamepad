C51 COMPILER V9.60.7.0   MPU6050                                                           12/06/2024 10:38:27 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MPU6050
OBJECT MODULE PLACED IN .\Objects\MPU6050.obj
COMPILER INVOKED BY: E:\Program Files\Keil_v5\Keil_arm\C51\BIN\C51.EXE MPU6050.c LARGE OPTIMIZE(8,SPEED) BROWSE DEBUG OB
                    -JECTEXTEND PRINT(.\Listings\MPU6050.lst) OBJECT(.\Objects\MPU6050.obj)

line level    source

   1          #include "MPU6050.h"
   2          #include "Soft_I2C.h"
   3          #include "oled.h"
   4          
   5          void MPU_Delay_Ms(uint16_t Milliseconds)        //
   6          {
   7   1          while(Milliseconds--)
   8   1              delay_ms(1);
   9   1      }
  10          
  11          //IIC连续写
  12          //reg:要写入的寄存器地址
  13          //len:要写入的长度
  14          //buf:要写入的数据的首地址
  15          //返回值:0,正常
  16          //    其他,错误代码
  17          uint8_t MPU_Write_Len(uint8_t reg, uint8_t len, uint8_t* buf)
  18          {
  19   1          return i2c_mem_write(MPU_ADDR, reg, buf, len);
  20   1      }
  21          
  22          //IIC连续读
  23          //reg:要读取的寄存器地址
  24          //len:要读取的长度
  25          //buf:读取到的数据存储区
  26          //返回值:0,正常
  27          //    其他,错误代码
  28          uint8_t MPU_Read_Len(uint8_t reg, uint8_t len, uint8_t* buf)
  29          {
  30   1          return i2c_mem_read(MPU_ADDR, reg, buf, len);
  31   1      }
  32          
  33          //IIC写一个字节
  34          //reg:寄存器地址
  35          //Data:数据
  36          //返回值:0,正常
  37          //    其他,错误代码
  38          uint8_t MPU_Write_Byte(uint8_t reg, uint8_t Data)
  39          {
  40   1          return i2c_mem_write(MPU_ADDR, reg, &Data, 1);
  41   1      }
  42          
  43          //IIC读一个字节
  44          //reg:寄存器地址
  45          //返回值:读到的数据
  46          //uint8_t MPU_Read_Byte(uint8_t reg)
  47          //{
  48          //      uint8_t res;
  49          //      i2c_mem_read(MPU_ADDR, reg, &res, 1);
  50          //      return res;
  51          //}
  52          
  53          //写入8位寄存器的一个位
  54          uint8_t MPU_Write_Bit(uint8_t addr, uint8_t bitNum, uint8_t Data)
C51 COMPILER V9.60.7.0   MPU6050                                                           12/06/2024 10:38:27 PAGE 2   

  55          {
  56   1          return i2c_write_bit(MPU_ADDR, addr, bitNum, Data);
  57   1      }
  58          
  59          //写入8位寄存器的多个位
  60          uint8_t MPU_Write_Bits(uint8_t addr, uint8_t bitStart, uint8_t length, uint8_t Data)
  61          {
  62   1          return i2c_write_bits(MPU_ADDR, addr, bitStart, length, Data);
  63   1      }
  64          
  65          //读取一个位从8位器件的寄存器
  66          uint8_t MPU_Read_Bit(uint8_t addr, uint8_t bitNum, uint8_t* Data)
  67          {
  68   1          return i2c_read_bit(MPU_ADDR, addr, bitNum, Data);
  69   1      }
  70          
  71          //读取8位寄存器的多个位
  72          uint8_t MPU_Read_Bits(uint8_t addr, uint8_t bitStart, uint8_t length, uint8_t* Data)
  73          {
  74   1          return i2c_read_bits(MPU_ADDR, addr, bitStart, length, Data);
  75   1      }
  76          


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    230    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----      16
   PDATA SIZE       =   ----    ----
   DATA SIZE        =   ----    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
